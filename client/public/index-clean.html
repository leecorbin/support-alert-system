<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />

    <!-- Clean viewport for PWA -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no"
    />

    <!-- PWA configuration -->
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Support Alerts" />

    <!-- PWA Theme -->
    <meta name="theme-color" content="#4a4d56" />
    <meta name="background-color" content="#4a4d56" />

    <!-- Description -->
    <meta
      name="description"
      content="Support Alert Dashboard - Real-time support metrics with audio alerts"
    />

    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />

    <!-- Manifest -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

    <!-- Clean, minimal styles -->
    <style>
      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        background: #f5f5f5;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
          "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",
          "Helvetica Neue", sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      #root {
        height: 100%;
        width: 100%;
      }

      .app {
        height: 100vh;
        width: 100%;
        background: #f5f5f5;
        overflow: auto;
        /* Add minimal bottom padding for iOS home indicator */
        padding-bottom: env(safe-area-inset-bottom, 0);
        box-sizing: border-box;
      }

      /* PWA-specific adjustments */
      @media (display-mode: standalone) {
        .app {
          padding-top: env(safe-area-inset-top, 0);
          padding-bottom: env(safe-area-inset-bottom, 20px);
        }
      }

      /* Disable auto-zoom on iOS form inputs */
      input,
      select,
      textarea {
        font-size: 16px !important;
      }
    </style>

    <title>Support Alerts</title>

    <!-- Version tracking -->
    <script>
      const currentVersion = "v4.0-clean-restore";
      const storedVersion = localStorage.getItem("app-version");

      if (storedVersion && storedVersion !== currentVersion) {
        console.log("Version changed, forcing reload...");
        localStorage.setItem("app-version", currentVersion);
        window.location.reload(true);
      } else if (!storedVersion) {
        localStorage.setItem("app-version", currentVersion);
      }
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
